enum ProviderId {
  GOOGLE
  TELEGRAM
}

model Account {
    id                     String       @id @default(cuid(2))
    userId                 String       @map("user_id")
    accountId              String       @map("account_id")
    providerId             ProviderId   @map("provider_id")
    image                  String?
    name                   String?
    email                  String?
    username               String?

    accessToken            String?      @map("access_token")
    refreshToken           String?      @map("refresh_token")
    accessTokenExpiresAt   DateTime?    @map("access_token_expires_at")
    refreshTokenExpiresAt  DateTime?    @map("refresh_token_expires_at")

    scope                  String?
    idToken                String?      @map("id_token")
    password               String?

    updatedAt              DateTime     @updatedAt      @map("updated_at")
    createdAt              DateTime     @default(now()) @map("created_at")

    user User @relation( fields: [userId], references: [id], onDelete: Cascade )

    @@unique([accountId, providerId]) // matches compound unique index
    @@index([providerId])             // matches single index
    @@map("accounts")
}

